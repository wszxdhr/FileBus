webpackJsonp([1,2],[,,,function(t,e,s){"use strict";var n=s(6),a=s.n(n),o=s(108),r=s.n(o),i=s(93),c=s.n(i),u=s(97),l=s.n(u),v=s(96),p=s.n(v),d=s(98),f=s.n(d);a.a.use(r.a),e.a=new r.a({routes:[{path:"/",name:"Hello",component:c.a},{path:"/me",name:"MeView",component:l.a},{path:"/login",name:"LoginView",component:p.a},{path:"/trans",name:"TransView",component:f.a}]})},,,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";var n=s(6),a=s.n(n),o=s(2),r=s.n(o),i=s(41),c=s(42),u=s(43);a.a.use(r.a);var l=!1;e.a=new r.a.Store({actions:i,getters:c,state:{},modules:{user:u.a},strict:l})},function(t,e,s){s(82);var n=s(1)(s(44),s(100),null,null);t.exports=n.exports},,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s.d(e,"addToCart",function(){return n});var n=function(t,e){t.commit}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s.d(e,"getUserInfo",function(){return n});var n=function(t){return t.userInfo}},function(t,e,s){"use strict";var n=s(4),a=s.n(n),o=s(3),r={userInfo:{},isLogined:!1},i={getUser:function(t){return t.userInfo},getUserStatus:function(t){return t.isLogined}},c={changeUser:function(t,e){var s=t.commit;t.state;s("setUser",e)},changeUserStatus:function(t,e){var s=t.commit;t.state;s("setUserStatus",e)},userLogout:function(t,e){var s=t.commit;t.state;console.log("logout"),a.a.post(window.postUrl+"logout",{}).then(function(t){1===t.data.success&&(s("setUser",{}),s("setUserStatus",!1),o.a.replace({path:"/login"}))})}},u={setUser:function(t,e){t.userInfo=e},setUserStatus:function(t,e){t.isLogined=e}};e.a={state:r,getters:i,actions:c,mutations:u}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(5),a=s.n(n),o=s(91),r=s.n(o),i=s(4),c=s.n(i),u=s(2);s.n(u);e.default={name:"app",data:function(){return{}},components:{AppHeader:r.a},methods:a()({},s.i(u.mapActions)(["changeUser","changeUserStatus"])),vuex:{getters:{}},mounted:function(){var t=this;c.a.post("http://localhost:3000/currentUser",{}).then(function(e){1===e.data.success&&(t.changeUser(e.data.user),t.changeUserStatus(!0))})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(5),a=s.n(n),o=s(92),r=s.n(o),i=s(94),c=s.n(i),u=s(3),l=s(2);s.n(l);e.default={props:{username:{default:"未登录",type:String},avatar:{default:"https://dn-6a1jrcth.qbox.me/06d4b710ee3e94087f35.png",type:String},isLogined:{default:!1,type:Boolean}},data:function(){return{showBubble:!1,bubbleList:[],bubbleAction:[],bubblePosition:{},bubbleOffset:{},bubbleDirection:""}},components:{Logo:c.a,Bubble:r.a},computed:a()({},s.i(l.mapGetters)({userStatus:"getUserStatus"})),methods:a()({},s.i(l.mapActions)(["changeUser","changeUserStatus","userLogout"]),{showMenu:function(){console.log("show menu");var t=this;"/trans"===this.$route.path&&this.userStatus&&(this.bubbleList=["设置","退出登录"],this.bubbleAction=[function(){},function(){t.logout()}],this.bubblePosition={right:60,top:40},this.bubbleOffset={x:0,y:0},this.bubbleDirection="down",this.showBubble=!0),this.userStatus||u.a.replace({path:"/login"})},logout:function(){this.userLogout(),this.showBubble=!1}})}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{position:{default:{top:0,right:0},type:Object},offset:{default:{x:0,y:0},type:Object},direction:{default:"down",type:String},value:{default:!1,type:Boolean}},data:function(){return{currentValue:!1}},methods:{},mounted:function(){},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"hello",data:function(){return{msg:"Welcome to Your Vue.js App"}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:{default:""},desc:{default:""},value:{default:!1,type:Boolean}},data:function(){return{currentValue:!1}},methods:{},mounted:function(){},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(5),a=s.n(n),o=s(4),r=s.n(o),i=s(2),c=(s.n(i),s(95)),u=s.n(c),l=s(3);e.default={data:function(){return{type:"注册",seePassword:!0,username:"",password:"",vertify:"",msg:"",showAlert:!1,passwordError:!1,btnLoading:!1,btnSuccess:!1}},methods:a()({},s.i(i.mapActions)(["changeUser","changeUserStatus"]),{onInput:function(){this.password.length>=6&&(this.passwordError=!1)},onChange:function(){this.password.length<6?this.passwordError=!0:this.passwordError=!1},login:function(){var t=this;console.log("login"),this.btnLoading=!0,this.btnSuccess=!1,r.a.post(window.postUrl+"login",{username:this.username,password:this.password}).then(function(e){if(console.log(e.data),1===e.data.success)t.btnLoading=!1,t.btnSuccess=!0,t.changeUser(e.data.loginedUser),t.changeUserStatus(!0),setTimeout(function(){l.a.replace({path:"/me"})},1e3);else{switch(e.data.err_code){case 202:t.msg="用户名已占用！";break;case 210:t.msg="密码不正确，再试试~";break;case 211:t.msg="用户名不正确，再想想~";break;default:t.msg="未知错误，错误代码："+e.data.err_code}t.showAlert=!0,t.btnLoading=!1,t.btnSuccess=!1}})},sign:function(){var t=this;this.btnLoading=!0,this.btnSuccess=!1,console.log("sign : "+this.username+" , "+this.password+" , "+this.vertify),r.a.post(window.postUrl+"register",{username:this.username,password:this.password,vertify:this.vertify}).then(function(e){if(console.log("then"),console.log(e.data),1===e.data.success)t.btnLoading=!1,t.btnSuccess=!0,setTimeout(function(){t.type="登录",t.btnLoading=!1,t.btnSuccess=!1},1e3);else{switch(e.data.err_code){case 202:t.msg="用户名已占用！";break;default:t.msg="未知错误，错误代码："+e.data.err_code}t.showAlert=!0,t.btnLoading=!1,t.btnSuccess=!1}})}}),mounted:function(){console.log("me-view mounted")},components:{alert:u.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(5),a=s.n(n),o=s(2);s.n(o);e.default={methods:a()({},s.i(o.mapActions)(["userLogout"])),mounted:function(){},computed:a()({},s.i(o.mapGetters)({userStatus:"getUserStatus"}))}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),a=s.n(n);e.default={data:function(){return{textareaHeight:36,touchObj:{startY:0,isTouching:!1,startH:0},transText:"",transData:{},currentDevice:"Phone"}},methods:{ontouchstart:function(t){this.touchObj.isTouching=!0,this.touchObj.startY=t.touches[0].pageY,this.touchObj.startH=this.textareaHeight},ontouchmove:function(t){console.log(t.touches[0].pageY),this.textareaHeight=this.touchObj.startH-(t.touches[0].pageY-this.touchObj.startY)},ontouchend:function(t){console.log("touchend"),this.touchObj.isTouching=!1},onscroll:function(t){},scrollToBottom:function(){this.$refs.scrollContent.scrollTop=1e11},onSend:function(){console.log(this.transText),a.a.post(window.postUrl+"sendFile",{content:this.transText,type:"string"}).then(function(t){console.log(t.data)})}},mounted:function(){var t=this;a.a.post(window.postUrl+"getFile",{start:0,length:10}).then(function(e){console.log(e.data),t.transData=e.data.files}),this.scrollToBottom()}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,s){s(84);var n=s(1)(s(45),s(102),"data-v-5a6ede1d",null);t.exports=n.exports},function(t,e,s){s(89);var n=s(1)(s(46),s(107),null,null);t.exports=n.exports},function(t,e,s){s(85);var n=s(1)(s(47),s(103),"data-v-64da5c61",null);t.exports=n.exports},function(t,e,s){s(83);var n=s(1)(s(48),s(101),"data-v-58b4c5ec",null);t.exports=n.exports},function(t,e,s){s(81);var n=s(1)(s(49),s(99),null,null);t.exports=n.exports},function(t,e,s){s(88);var n=s(1)(s(50),s(106),"data-v-7bbc5de8",null);t.exports=n.exports},function(t,e,s){s(86);var n=s(1)(s(51),s(104),null,null);t.exports=n.exports},function(t,e,s){s(87);var n=s(1)(s(52),s(105),"data-v-7ab8254b",null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"alert-pro"},[s("div",{staticClass:"alert-main"},[s("p",{staticClass:"alert-title"},[t._v(t._s(t.title))]),t._v(" "),s("p",{staticClass:"alert-desc"},[t._v(t._s(t.desc))]),t._v(" "),s("p",{staticClass:"alert-btn",on:{click:function(e){t.currentValue=!1}}},[t._v("确定")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("app-header",{attrs:{username:t.$store.getters.getUser.username,avatar:t.$store.getters.getUser.avatar}}),t._v(" "),s("router-view",{staticClass:"router-view"})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-logo"},[s("span",[t._v("F")]),t._v(" "),s("span",[t._v("ile")]),t._v(" "),s("span",[t._v("B")]),t._v(" "),s("span",[t._v("us")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["app-header","/"===t.$route.path?"":t.$route.path.substring(1)]},[s("router-link",{staticClass:"logo-link",attrs:{tag:"div",to:{path:"/"},replace:""}},[s("Logo")],1),t._v(" "),s("router-link",{staticClass:"header-tab trans",attrs:{to:{path:"/trans"},replace:"",tag:"button"}},[t._v("\n        传输\n    ")]),t._v(" "),s("router-link",{directives:[{name:"show",rawName:"v-show",value:t.userStatus,expression:"userStatus"}],staticClass:"header-tab me",attrs:{to:{path:"/me"},replace:"",tag:"button"}},[t._v("\n        我\n    ")]),t._v(" "),s("router-link",{directives:[{name:"show",rawName:"v-show",value:!t.userStatus,expression:"!userStatus"}],staticClass:"header-tab login",attrs:{to:{path:"/login"},replace:"",tag:"button"}},[t._v("\n        登录\n    ")]),t._v(" "),s("div",{staticClass:"spring"}),t._v(" "),s("div",{staticClass:"user-info",on:{click:t.showMenu}},[s("p",{staticClass:"user-name"},[s("span",[t._v(t._s(t.username))])]),t._v(" "),s("img",{staticClass:"user-avatar",attrs:{src:t.avatar,alt:""}})]),t._v(" "),s("bubble",{directives:[{name:"model",rawName:"v-model",value:t.showBubble,expression:"showBubble"}],attrs:{direction:t.bubbleDirection,position:t.bubblePosition,offset:t.bubbleOffset},domProps:{value:t.showBubble},on:{input:function(e){t.showBubble=e}}},t._l(t.bubbleList,function(e,n){return s("li",{on:{click:t.bubbleAction[n]},slot:"main"},[t._v(t._s(e))])}))],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),s("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("Core Docs")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("Forum")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://gitter.im/vuejs/vue",target:"_blank"}},[t._v("Gitter Chat")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("Twitter")])]),t._v(" "),s("br"),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("Docs for This Template")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[t._v("vue-router")])]),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[t._v("vuex")])]),t._v(" "),s("li",[s("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[t._v("vue-loader")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[t._v("awesome-vue")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"me-view"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.userStatus,expression:"userStatus"}],staticClass:"fb-cell"},[s("img",{staticClass:"fb-cell-icon",attrs:{src:"https://dn-6a1jrcth.qbox.me/ce8307285b7544a07347.png",alt:""}}),t._v(" "),s("p",{staticClass:"fb-cell-text"},[t._v("设置")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.userStatus,expression:"userStatus"}],staticClass:"fb-cell"},[s("img",{staticClass:"fb-cell-icon",attrs:{src:"https://dn-6a1jrcth.qbox.me/8d98518a709716f790b1.png",alt:""}}),t._v(" "),s("p",{staticClass:"fb-cell-text"},[t._v("我的资料")])]),t._v(" "),t._m(0),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.userStatus,expression:"userStatus"}],staticClass:"fb-cell",on:{click:function(e){t.userLogout()}}},[s("img",{staticClass:"fb-cell-icon",attrs:{src:"https://dn-6a1jrcth.qbox.me/290bd840f3728ffeea81.png",alt:""}}),t._v(" "),s("p",{staticClass:"fb-cell-text"},[t._v("退出登录")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fb-cell"},[s("img",{staticClass:"fb-cell-icon",attrs:{src:"https://dn-6a1jrcth.qbox.me/5ffe77569c4abfd68654.png",alt:""}}),t._v(" "),s("p",{staticClass:"fb-cell-text"},[t._v("关于")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"trans-view"},[s("div",{ref:"scrollContent",staticClass:"trans-content",on:{scroll:t.onscroll}},[t._l(t.transData,function(e){return[s("div",{class:["trans-title",e.device===t.currentDevice?"right":"left"]},[t._v(t._s(e.updatedAt)+"("+t._s(e.device)+")")]),t._v(" "),s("div",{class:["trans-msg",e.device===t.currentDevice?"right":"left"]},[t._v(t._s(e.content))])]})],2),t._v(" "),s("div",{staticClass:"input-bar"},[s("div",{staticClass:"input-box"},[s("div",{staticClass:"up-btn",on:{touchstart:t.ontouchstart,touchmove:t.ontouchmove,touchend:t.ontouchend}},[s("p",[t._v("A")])]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.transText,expression:"transText"}],staticClass:"inner-input",style:{"min-height":t.textareaHeight+"px"},attrs:{name:"",rows:"1"},domProps:{value:t._s(t.transText)},on:{input:function(e){e.target.composing||(t.transText=e.target.value)}}}),t._v(" "),s("button",{staticClass:"send-btn",on:{click:t.onSend}},[t._v("发送")])]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"file-box"},[s("div",{staticClass:"file-btn"},[t._v("A")]),t._v(" "),s("div",{staticClass:"file-btn"},[t._v("B")]),t._v(" "),s("div",{staticClass:"file-btn"},[t._v("C")]),t._v(" "),s("div",{staticClass:"file-btn"},[t._v("D")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-view"},[s("div",{staticClass:"fb-cell tab-cell"},[s("button",{class:["fb-cell-tab","注册"===t.type?"active":""],on:{click:function(e){t.type="注册"}}},[t._v("注册")]),t._v(" "),s("button",{class:["fb-cell-tab","登录"===t.type?"active":""],on:{click:function(e){t.type="登录"}}},[t._v("登录")])]),t._v(" "),s("div",{staticClass:"fb-cell"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"fb-cell-input",attrs:{type:"text",placeholder:"请输入手机号/邮箱",maxlength:"30"},domProps:{value:t._s(t.username)},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"fb-cell"},[s("input",{directives:[{name:"show",rawName:"v-show",value:"登录"===t.type||t.seePassword===!1,expression:"type === '登录' || seePassword === false"},{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:["fb-cell-input",{error:t.passwordError}],attrs:{type:"password",placeholder:"请输入密码",maxlength:"14"},domProps:{value:t._s(t.password)},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},t.onInput],change:t.onChange}}),t._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:!("登录"===t.type||t.seePassword===!1),expression:"!(type === '登录' || seePassword === false)"},{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:["fb-cell-input",{error:t.passwordError}],attrs:{type:"text",placeholder:"请输入密码",maxlength:"14"},domProps:{value:t._s(t.password)},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},t.onInput],change:t.onChange}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"注册"===t.type,expression:"type === '注册'"}],staticClass:"fb-cell"},[s("button",{staticClass:"get-vertify"},[t._v("获取验证码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.vertify,expression:"vertify"}],staticClass:"fb-cell-input",attrs:{type:"text",placeholder:"请输入验证码",maxlength:"6"},domProps:{value:t._s(t.vertify)},on:{input:function(e){e.target.composing||(t.vertify=e.target.value)}}})]),t._v(" "),s("button",{class:["login-btn","注册"===t.type?"sign-btn":"",{"register-success":t.btnSuccess&&"注册"===t.type,"login-success":t.btnSuccess&&"登录"===t.type}],on:{click:function(e){"登录"===t.type?t.login():t.sign()}}},[s("span",{class:["btn-loading-icon","rotate",{show:t.btnLoading}],style:{"margin-left":t.btnSuccess?"-55px":"-45px"}}),t._v(" "),s("span",{class:["btn-success-icon",{show:t.btnSuccess}],style:{"margin-left":t.btnSuccess?"-50px":"-40px"}}),t._v("\n        "+t._s(t.type)+t._s("注册"===t.type&&t.btnSuccess===!0?"成功":"")+"\n    ")]),t._v(" "),s("alert",{directives:[{name:"model",rawName:"v-model",value:t.showAlert,expression:"showAlert"}],attrs:{desc:t.msg},domProps:{value:t.showAlert},on:{input:function(e){t.showAlert=e}}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"fb-bubble"},[s("div",{staticClass:"mask",on:{click:function(e){t.currentValue=!1}}}),t._v(" "),s("ul",{class:["fb-bubble-main",t.direction],style:{top:t.position.top+"px",right:t.position.right+"px",left:t.position.left+"px",bottom:t.position.bottom+"px"}},[t._t("main")],2)])])},staticRenderFns:[]}},,,,function(t,e,s){"use strict";function n(){a()?window.postUrl="http://localhost:3000/":window.postUrl="/"}function a(){return!1}Object.defineProperty(e,"__esModule",{value:!0});var o=s(6),r=s.n(o),i=s(2),c=s.n(i),u=s(23),l=s.n(u),v=s(22),p=s(3);r.a.use(c.a),new r.a({el:"#app",router:p.a,store:v.a,template:"<App/>",components:{App:l.a}}),n()}],[111]);